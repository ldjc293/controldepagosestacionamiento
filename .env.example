# ============================================================================
# CONFIGURACIÓN DE ENTORNO - Sistema de Estacionamiento
# ============================================================================
# IMPORTANTE: Copiar este archivo a .env y completar con valores reales
# El archivo .env NO debe subirse a control de versiones (agregar a .gitignore)
# ============================================================================

# ============================================================================
# BASE DE DATOS
# ============================================================================
DB_HOST=localhost
DB_PORT=3306
DB_NAME=estacionamiento_db
DB_USER=root
DB_PASS=
DB_CHARSET=utf8mb4

# ============================================================================
# APLICACIÓN
# ============================================================================
APP_NAME="Sistema de Estacionamiento Bloques 27-32"
APP_ENV=development
APP_DEBUG=true
APP_URL=http://localhost/controldepagosestacionamiento
APP_TIMEZONE=America/Caracas

# ============================================================================
# SEGURIDAD
# ============================================================================
# Clave secreta para encriptación (generar con: openssl rand -base64 32)
APP_KEY=base64:YOUR_RANDOM_32_CHARACTER_KEY_HERE

# Tiempo de expiración de sesión en minutos
SESSION_LIFETIME=30

# Máximo de intentos de login fallidos
MAX_LOGIN_ATTEMPTS=5

# Tiempo de bloqueo después de intentos fallidos (minutos)
LOGIN_LOCKOUT_TIME=30

# ============================================================================
# CONFIGURACIÓN SMTP (Para envío de emails)
# ============================================================================
MAIL_MAILER=smtp
MAIL_HOST=smtp.gmail.com
MAIL_PORT=587
MAIL_USERNAME=tu-email@gmail.com
MAIL_PASSWORD=tu-app-password-aqui
MAIL_ENCRYPTION=tls
MAIL_FROM_ADDRESS=noreply@estacionamiento.local
MAIL_FROM_NAME="Estacionamiento Bloques 27-32"

# Para Gmail: Generar App Password en:
# https://myaccount.google.com/apppasswords
# Activar verificación en 2 pasos primero

# ============================================================================
# GOOGLE SHEETS (Opcional - para sincronización de recibos)
# ============================================================================
GOOGLE_SHEETS_ENABLED=false
GOOGLE_SHEETS_ID=your-spreadsheet-id-here
GOOGLE_SHEETS_CREDENTIALS_PATH=config/google-credentials.json
GOOGLE_SHEETS_TAB_NAME=Recibos

# Para obtener credenciales:
# 1. Google Cloud Console → APIs & Services → Credentials
# 2. Create Service Account
# 3. Download JSON key
# 4. Compartir la hoja con el email del Service Account

# ============================================================================
# ARCHIVOS Y UPLOADS
# ============================================================================
# Tamaño máximo de archivos en bytes (5MB = 5242880)
MAX_UPLOAD_SIZE=5242880

# Formatos permitidos para comprobantes
ALLOWED_FORMATS=jpg,jpeg,png,pdf

# Ruta de almacenamiento de uploads
UPLOAD_PATH=public/uploads

# ============================================================================
# CONFIGURACIÓN DE NEGOCIO
# ============================================================================
# Tarifa mensual por control en USD
TARIFA_MENSUAL_USD=1.00

# Monto de reconexión en USD
MONTO_RECONEXION_USD=2.00

# Días de gracia después del vencimiento
DIAS_GRACIA=5

# Meses de mora para alerta (amarillo)
MESES_ALERTA=3

# Meses de mora para bloqueo automático (rojo)
MESES_BLOQUEO=4

# Formato de número de recibo
RECIBO_PREFIX=EST-
RECIBO_PADDING=6

# ============================================================================
# API DE TASA DE CAMBIO BCV
# ============================================================================
# URL de la API para obtener tasa BCV
BCV_API_URL=https://api.exchangerate.host/latest?base=USD&symbols=VES
BCV_API_ENABLED=true
BCV_AUTO_UPDATE=true

# ============================================================================
# LOGS Y DEBUGGING
# ============================================================================
# Nivel de log: debug, info, warning, error
LOG_LEVEL=debug

# Ruta de logs
LOG_PATH=logs/

# Rotación de logs (días)
LOG_ROTATION_DAYS=30

# ============================================================================
# INFORMACIÓN DEL ESTACIONAMIENTO
# ============================================================================
ESTACIONAMIENTO_NOMBRE="Estacionamiento Bloques 27-32"
ESTACIONAMIENTO_DIRECCION="Caricuao Ud 5, Caracas, Venezuela"
ESTACIONAMIENTO_TELEFONO="+58 424 1234567"
ESTACIONAMIENTO_EMAIL="admin@estacionamiento.local"

# Total de posiciones de estacionamiento
TOTAL_POSICIONES=250

# Receptores por posición
RECEPTORES=A,B

# ============================================================================
# RECUPERACIÓN DE CONTRASEÑA (User Story #6)
# ============================================================================
# Tiempo de expiración del código en minutos
PASSWORD_RESET_CODE_EXPIRATION=15

# Rate limiting: segundos entre solicitudes
PASSWORD_RESET_RATE_LIMIT=60

# Máximo de intentos de validación de código
PASSWORD_RESET_MAX_ATTEMPTS=3

# ============================================================================
# TAREAS PROGRAMADAS (CRON)
# ============================================================================
# Día del mes para generar mensualidades
CRON_GENERAR_MENSUALIDADES_DIA=5

# Hora para ejecutar CRON de generación (24h format)
CRON_GENERAR_MENSUALIDADES_HORA=00:05

# Hora para ejecutar CRON de bloqueos
CRON_VERIFICAR_BLOQUEOS_HORA=05:00

# Hora para ejecutar CRON de notificaciones
CRON_ENVIAR_NOTIFICACIONES_HORA=08:00

# Hora para actualizar tasa BCV
CRON_ACTUALIZAR_TASA_BCV_HORA=12:00

# ============================================================================
# DESARROLLO (Solo para ambiente de desarrollo)
# ============================================================================
# Mostrar errores PHP
PHP_DISPLAY_ERRORS=true

# Habilitar modo de depuración
DEV_MODE=true

# Deshabilitar caché
CACHE_ENABLED=false
